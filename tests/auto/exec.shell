\echo "DEBUG exec.shell" >&2
\printenv | \grep OTEL_SHELL >&2

set -e
. /usr/bin/opentelemetry_shell.sh

\alias exec
{ _otel_list_path_commands | _otel_filter_commands_by_special | _otel_filter_commands_by_hint "$0" | \sort -u; \alias; \echo "$OTEL_SHELL_CONSERVATIVE_EXEC" "$OTEL_SHELL_EXPERIMENTAL_INSTRUMENT_MINIMALLY"; } | \md5sum | \cut -d ' ' -f 1

if [ "$OPEN_FD" = TRUE ]; then exec 3>&2; fi
if [ "$SOURCE" = TRUE ]; then
  echo 'exec echo' "$@" > source_exec.shell
  . source_exec.shell
else
  exec echo "$@"
fi
