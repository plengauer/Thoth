. ./assert.sh
. /usr/bin/opentelemetry_shell_api.sh

otel_init

expected="$(time echo hello world)"
actual="$(otel_observe time echo hello world)"
assert_equals "$(echo $expected | sed 's/[0-9]/?/g')" "$(echo $actual | sed 's/[0-9]/?/g')"

echo "deb [arch=all] http://127.0.0.1:8000/ stable main" | sudo tee /etc/apt/sources.list.d/example.list
expected="$(sudo apt-get update)"
actual="$(otel_observe sudo apt-get update)"
assert_equals "$expected" "$actual"

otel_shutdown
